<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="./cart.css">
    <title>Your Cart - CarTech</title>
</head>
<body>
    <!-- navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-car me-2"></i>CarTech
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/index/index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="/about/about.html">About</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Listings</a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="/listing/listing.html" onclick="filterCars('all')">All Vehicles</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="/listing/listing.html" onclick="filterCars('new')">New Vehicles</a></li>
                            <li><a class="dropdown-item" href="/listing/listing.html" onclick="filterCars('used')">Used Vehicles</a></li>
                            <li><a class="dropdown-item" href="/listing/listing.html" onclick="filterCars('ev')">Electric Vehicles</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="/sell/sell.html">Sell Your Car</a></li>
                    <li class="nav-item"><a class="nav-link" href="/contact/contact.html">Contact</a></li>
                    <li class="nav-item">
                        <a class="nav-link position-relative" href="/cart/cart.html">
                            <i class="fas fa-shopping-cart"></i> Cart
                            <span id="cartCount" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">0</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Toast Container -->
    <div class="toast-container position-fixed top-0 end-0 p-3" id="toastContainer"></div>
    <!-- Shopping Cart -->
    <div class="container my-5" id="cartPage">
        <h2 class="mb-4">Your Shopping Cart</h2>
        <div id="cartContent">
            <!-- Cart items will be loaded here -->
        </div>
        <div class="row mt-4" id="cartSummary">
            <!-- Cart summary will be loaded here -->
        </div>
        <!-- Checkout Form - New Addition -->
        <div id="checkoutForm" class="mt-5 d-none">
            <h3 class="mb-3">Complete Your Purchase</h3>
            <!-- Checkout Progress -->
            <div class="progress mb-4" style="height: 5px;">
                <div id="checkoutProgress" class="progress-bar" role="progressbar" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <!-- Steps Indicator -->
            <div class="d-flex justify-content-between mb-4">
                <span class="step-indicator active" data-step="1">1. Personal Info</span>
                <span class="step-indicator" data-step="2">2. Address</span>
                <span class="step-indicator" data-step="3">3. Payment</span>
                <span class="step-indicator" data-step="4">4. Confirm</span>
            </div>
            <!-- Step 1: Personal Information -->
            <div class="checkout-section active" data-section="1">
                <div class="row g-3">
                    <div class="col-md-6">
                        <label for="firstName" class="form-label">First Name*</label>
                        <input type="text" class="form-control" id="firstName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="lastName" class="form-label">Last Name*</label>
                        <input type="text" class="form-control" id="lastName" required>
                    </div>
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email*</label>
                        <input type="email" class="form-control" id="email" required>
                    </div>
                    <div class="col-md-6">
                        <label for="phone" class="form-label">Phone Number*</label>
                        <input type="tel" class="form-control" id="phone" required>
                    </div>
                    <div class="col-12">
                        <label for="idProof" class="form-label">ID Proof (Driving License/Aadhar)</label>
                        <input type="text" class="form-control" id="idProof">
                    </div>
                    <div class="col-12 mt-4">
                        <button class="btn btn-primary" onclick="nextCheckoutStep(1)">Continue</button>
                    </div>
                </div>
            </div>
            <!-- Step 2: Address Information -->
            <div class="checkout-section" data-section="2">
                <div class="row g-3">
                    <div class="col-12">
                        <label for="addressLine1" class="form-label">Address Line 1*</label>
                        <input type="text" class="form-control" id="addressLine1" required>
                    </div>
                    <div class="col-12">
                        <label for="addressLine2" class="form-label">Address Line 2</label>
                        <input type="text" class="form-control" id="addressLine2">
                    </div>
                    <div class="col-md-6">
                        <label for="city" class="form-label">City*</label>
                        <input type="text" class="form-control" id="city" required>
                    </div>
                    <div class="col-md-6">
                        <label for="state" class="form-label">State*</label>
                        <select class="form-select" id="state" required>
                            <option value="">Choose...</option>
                            <option value="AP">Andhra Pradesh</option>
                            <option value="AR">Arunachal Pradesh</option>
                            <option value="AS">Assam</option>
                            <option value="BR">Bihar</option>
                            <option value="CT">Chhattisgarh</option>
                            <option value="GA">Goa</option>
                            <option value="GJ">Gujarat</option>
                            <option value="HR">Haryana</option>
                            <option value="HP">Himachal Pradesh</option>
                            <option value="JH">Jharkhand</option>
                            <option value="KA">Karnataka</option>
                            <option value="KL">Kerala</option>
                            <option value="MP">Madhya Pradesh</option>
                            <option value="MH">Maharashtra</option>
                            <option value="MN">Manipur</option>
                            <option value="ML">Meghalaya</option>
                            <option value="MZ">Mizoram</option>
                            <option value="NL">Nagaland</option>
                            <option value="OD">Odisha</option>
                            <option value="PB">Punjab</option>
                            <option value="RJ">Rajasthan</option>
                            <option value="SK">Sikkim</option>
                            <option value="TN">Tamil Nadu</option>
                            <option value="TG">Telangana</option>
                            <option value="TR">Tripura</option>
                            <option value="UP">Uttar Pradesh</option>
                            <option value="UK">Uttarakhand</option>
                            <option value="WB">West Bengal</option>
                        </select>
                    </div>
                    <div class="col-md-6">
                        <label for="zipCode" class="form-label">ZIP Code*</label>
                        <input type="text" class="form-control" id="zipCode" required>
                    </div>
                    <div class="col-12 mt-4">
                        <button class="btn btn-secondary me-2" onclick="prevCheckoutStep(2)">Back</button>
                        <button class="btn btn-primary" onclick="nextCheckoutStep(2)">Continue</button>
                    </div>
                </div>
            </div>
            <!-- Step 3: Payment Information -->
            <div class="checkout-section" data-section="3">
                <div class="row g-3">
                    <div class="col-12 mb-3">
                        <h5>Payment Method</h5>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="paymentMethod" id="creditCard" value="creditCard" checked>
                            <label class="form-check-label" for="creditCard">Credit Card</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="paymentMethod" id="debitCard" value="debitCard">
                            <label class="form-check-label" for="debitCard">Debit Card</label>
                        </div>
                        <div class="form-check mb-2">
                            <input class="form-check-input" type="radio" name="paymentMethod" id="netBanking" value="netBanking">
                            <label class="form-check-label" for="netBanking">Net Banking</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="paymentMethod" id="upi" value="upi">
                            <label class="form-check-label" for="upi">UPI</label>
                        </div>
                    </div>
                    <!-- Credit Card Form (Default) -->
                    <div id="creditCardForm" class="payment-form">
                        <div class="col-12">
                            <label for="cardName" class="form-label">Name on Card*</label>
                            <input type="text" class="form-control" id="cardName" required>
                        </div>
                        <div class="col-12">
                            <label for="cardNumber" class="form-label">Card Number*</label>
                            <input type="text" class="form-control" id="cardNumber" placeholder="XXXX XXXX XXXX XXXX" required>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label for="expiryDate" class="form-label">Expiry Date*</label>
                                <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY" required>
                            </div>
                            <div class="col-md-6">
                                <label for="cvv" class="form-label">CVV*</label>
                                <input type="text" class="form-control" id="cvv" placeholder="XXX" required>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-4">
                        <button class="btn btn-secondary me-2" onclick="prevCheckoutStep(3)">Back</button>
                        <button class="btn btn-primary" onclick="nextCheckoutStep(3)">Continue</button>
                    </div>
                </div>
            </div>
            <!-- Step 4: Confirmation -->
            <div class="checkout-section" data-section="4">
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Order Summary</h5>
                            </div>
                            <div class="card-body">
                                <div id="orderSummaryItems">
                                    <!-- Items will be added here dynamically -->
                                </div>
                                <hr>
                                <div id="orderSummaryTotal">
                                    <!-- Total will be added here dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-4">
                        <div class="card">
                            <div class="card-header">
                                <h5 class="mb-0">Delivery Details</h5>
                            </div>
                            <div class="card-body">
                                <p><strong>Name:</strong> <span id="summaryName"></span></p>
                                <p><strong>Email:</strong> <span id="summaryEmail"></span></p>
                                <p><strong>Phone:</strong> <span id="summaryPhone"></span></p>
                                <p><strong>Address:</strong> <span id="summaryAddress"></span></p>
                                <p><strong>Payment Method:</strong> <span id="summaryPayment"></span></p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 mt-4">
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" value="" id="termsCheck" required>
                            <label class="form-check-label" for="termsCheck">
                                I agree to the <a href="#" data-bs-toggle="modal" data-bs-target="#termsModal">Terms and Conditions</a>
                            </label>
                        </div>
                        <button class="btn btn-secondary me-2" onclick="prevCheckoutStep(4)">Back</button>
                        <button class="btn btn-success" onclick="placeOrder()" id="placeOrderBtn" disabled>Place Order</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Terms and Conditions Modal -->
    <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="termsModalLabel">Terms and Conditions</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <h6>1. Vehicle Purchase Agreement</h6>
                    <p>This purchase agreement constitutes the entire agreement between CarTech and the Customer regarding the purchase of the vehicle(s) listed in the order.</p>
                    <h6>2. Payment Terms</h6>
                    <p>Full payment is required to complete the purchase. The Customer understands that any applicable taxes, registration fees, and delivery charges are included in the final price.</p>
                    <h6>3. Vehicle Condition</h6>
                    <p>All vehicles are sold as described. New vehicles come with manufacturer warranty. Used vehicles are sold as-is unless otherwise specified.</p>
                    <h6>4. Delivery</h6>
                    <p>Delivery time varies based on location and vehicle availability. Customer will be notified of the estimated delivery date after order confirmation.</p>
                    <h6>5. Cancellation Policy</h6>
                    <p>Orders may be cancelled within 24 hours at no charge. Cancellations after 24 hours may incur a processing fee of 2% of the vehicle price.</p>
                    <h6>6. Privacy Policy</h6>
                    <p>Customer information will be handled according to our Privacy Policy. Personal information will be used only for order processing and will not be shared with third parties except as required for processing the transaction.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I Understand</button>
                </div>
            </div>
        </div>
    </div>
    <!-- footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>CarTech</h5>
                    <p>"Your gateway to stress-free automotive transactions"</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="/about/about.html" class="text-white">About Us</a></li>
                        <li><a href="/sell/sell.html" class="text-white">Services</a></li>
                        <li><a href="/contact/contact.html" class="text-white">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Connect With Us</h5>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-white"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
    <script src="./cart.js"></script>
    <script src="./cart-inline.js"></script>
</body>
</html>